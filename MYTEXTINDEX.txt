<!doctype html>
<html lang="kn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ಗಣೇಶ ಯಕ್ಷಗಾನ ಕಲಾ ಕೇಂದ್ರ — ಮುಳ್ಳೇರಿಯ, ಕಾಸರಗೋಡು</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Kannada&display=swap" rel="stylesheet">
<style>
:root { --accent: #c62828; --bg:#faf6f4; --card:#fff; --muted:#666; }
* {box-sizing:border-box; margin:0; padding:0;}
body { font-family: 'Noto Sans Kannada', sans-serif; background:var(--bg); color:#111; line-height:1.6; }
header { background: linear-gradient(90deg,#8b1e3f,#d32f2f); color:#fff; padding:18px 12px; text-align:center; position:relative; }
header h1 { font-size:28px; display:flex; align-items:center; justify-content:center; gap:12px; }
header h1 img { width:56px; height:56px; border-radius:50%; object-fit:cover; }
.container { max-width:1100px; margin:18px auto; padding:12px; }
.card { background: var(--card); padding:14px; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.06); margin-bottom:14px; }
h2 { color: var(--accent); margin:6px 0; }
p.lead { color: var(--muted); }
.grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:14px; }
img, video { max-width:100%; display:block; border-radius:8px; cursor:pointer; }
.btn { background: var(--accent); color:#fff; padding:9px 12px; border-radius:8px; text-decoration:none; display:inline-block; cursor:pointer; border:0; }
.whatsapp-float{position:fixed;right:18px;bottom:18px;z-index:9999}
.admin-float{position:fixed;left:18px;bottom:18px;z-index:9999}
.modal{position:fixed;inset:0;background:rgba(0,0,0,0.75);display:none;align-items:center;justify-content:center;padding:20px;z-index:9998}
.modal .inner{max-width:95vw;max-height:95vh;overflow:auto}
.modal img,.modal video{max-width:100%;max-height:90vh;border-radius:8px}
.modal .close{position:absolute;right:20px;top:18px;color:#fff;font-size:24px;cursor:pointer}
form input, form textarea {width:100%;padding:10px;margin-top:8px;border-radius:8px;border:1px solid #ddd}
label{font-weight:700}
.small-muted{color:var(--muted);font-size:13px}
.table {width:100%;border-collapse:collapse}
.table th,.table td{padding:8px;border-bottom:1px solid #eee;text-align:left}
@media (max-width:600px){ header h1{font-size:18px} }
body::before {content:'';position:fixed;inset:0;background:url('https://i.imgur.com/7QyFmIB.png') repeat;opacity:0.04;z-index:-1;}
</style>
</head>
<body>
<header>
<h1><img id="logoImg" src="https://i.imgur.com/7nj9EXH.png" alt="Yakshagana Mask"> ಗಣೇಶ ಯಕ್ಷಗಾನ ಕಲಾ ಕೇಂದ್ರ — ಮುಳ್ಳೇರಿಯ, ಕಾಸರಗೋಡು</h1>
</header>

<main class="container">
  <section class="card intro">
    <h2>ಸ್ವಾಗತ</h2>
    <p class="lead">ಗಣೇಶ ಯಕ್ಷಗಾನ ಕಲಾ ಕೇಂದ್ರವು ಸಂಪ್ರದಾಯಬದ್ಧ <strong>ತೆಂಕು ತಿಟ್ಟು</strong> ಶೈಲಿಯಲ್ಲಿ ಯಕ್ಷಗಾನ ತರಬೇತಿ ನೀಡುತ್ತದೆ. ಅಭ್ಯಾಸ, ನುರಿತ ನಟನೆ ಮತ್ತು ಸಂಗೀತದಲ್ಲಿ ಪರಿಣತಿ ತರಲು ಈ ತರಗತಿಗಳು ರೂಪಿಸಲಾಗಿದೆ.</p>
    <img id="bannerImg" src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Yakshagana_performance.jpg" alt="Yakshagana banner">
  </section>

  <section class="card" id="guru">
    <h2>ಗುರು ಪರಿಚಯ</h2>
    <div style="display:flex;gap:14px;align-items:center;flex-wrap:wrap">
      <div style="min-width:180px"><img id="guruPhoto" src="https://via.placeholder.com/300x300?text=Guru+Photo" alt="ಗುರು ಫೋಟೋ"></div>
      <div>
        <p><strong>ನಾಮ: </strong>ಸೂರ್ಯನಾರಾಯಣ ಪದಕಣ್ಣಾಯ, ಬಾಯಾರು</p>
        <p class="lead">ಗುರುಜನರು ಅನುಭವಿ ಯಕ್ಷಗಾನ ಕಲಾವಿದರು — ಮುಖಭೂಷಣ, ಸಂಗೀತ ಮತ್ತು ನೃತ್ಯದಲ್ಲಿ ಪರಿಣತಿ.</p>
      </div>
    </div>
  </section>

  <section class="card">
    <h2>ಕ್ಲಾಸ್ ವಿವರ</h2>
    <p>ಪ್ರತಿ ಆದಿತ್ಯವಾರ ತರಗತಿ: <strong>1:30 PM — 3:45 PM</strong> (ಸ್ಥಳ: ಮುಳ್ಳೇರಿಯ)</p>
  </section>

  <section class="card">
    <h2>ಯಶಸ್ವಿ ವಿದ್ಯಾರ್ಥಿಗಳು</h2>
    <div id="studentsGrid" class="grid"></div>
  </section>

  <section class="card">
    <h2>ಭವಿಷ್ಯದ ಕಾರ್ಯಕ್ರಮಗಳು</h2>
    <div id="eventsList"></div>
  </section>

  <section class="card">
    <h2>ಗ್ಯಾಲರಿ (ಚಿತ್ರ/ವೀಡಿಯೋ)</h2>
    <div id="galleryGrid" class="grid"></div>
  </section>

  <section class="card">
    <h2>ಪ್ರವೇಶ ಫಾರ್ಮ್</h2>
    <form id="admissionForm">
      <label for="aName">ಹೆಸರು</label>
      <input id="aName" required>
      <label for="aAge">ವಯಸ್ಸು</label>
      <input id="aAge">
      <label for="aPhone">ಸಂಪರ್ಕ ಸಂಖ್ಯೆ</label>
      <input id="aPhone" required>
      <label for="aNote">ಸಂದೇಶ / ಗಮನ</label>
      <textarea id="aNote" rows="3"></textarea>
      <div style="margin-top:10px"><button class="btn" type="submit">WhatsApp ಮೂಲಕ ಕಳುಹಿಸಿ</button></div>
    </form>
    <p class="small-muted" style="margin-top:8px">ನಿಮ್ಮ ಅರ್ಜಿ ವಾಟ್ಸಾಪ್ ಮೂಲಕ ಕಳುಹಿಸಲಾಗುತ್ತದೆ.</p>
  </section>

  <section class="card">
    <h2>ಧನಸಹಾಯ</h2>
    <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap">
      <div id="qrArea"><img id="donationQR" src="https://via.placeholder.com/200x200?text=QR+Code" alt="QR Code"></div>
      <div>
        <p>ಒಟ್ಟು ಸ್ವೀಕೃತ ದಾನ: ₹<span id="donationTotal">0</span></p>
        <p class="small-muted">QR ಕೋಡ್ ಅನ್ನು ಆಡ್ಮಿನ್ ಅಪ್‌ಲೋಡ್ ಮಾಡಿದ ನಂತರ ಇಲ್ಲಿ ತೋರಿಸಲಿದೆ. ಮೊತ್ತವು ಆಡ್ಮಿನ್ ಮೂಲಕ ಅಪ್‌ಡೇಟ್ ಆಗುತ್ತದೆ.</p>
      </div>
    </div>
  </section>

  <section class="card">
    <h2>ಸಂಪರ್ಕ</h2>
    <p>ಇಮೇಲ್: srikrishnab83@gmail.com  |  ಫೋನ್: +91 9148014768</p>
  </section>
</main>

<div class="whatsapp-float">
  <a id="waFloat" href="https://wa.me/qr/JGB3XSEHKWFDD1" target="_blank" title="WhatsApp">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width:56px;height:56px;background:#25D366;border-radius:50%;padding:8px;box-shadow:0 8px 20px rgba(0,0,0,0.2)">
  </a>
</div>

<div class="admin-float"><button id="openAdmin" class="btn">ಆಡ್ಮಿನ್</button></div>

<div id="mediaModal" class="modal" aria-hidden="true">
  <div class="inner" id="mediaInner"></div>
  <div class="close" id="mediaClose">✕</div>
</div>

<div id="adminModal" class="modal" aria-hidden="true">
  <div class="inner" style="background:#fff;padding:18px;border-radius:8px;max-width:980px;overflow:auto;position:relative;">
    <button id="adminClose" style="position:absolute;right:18px;top:18px;border:none;background:transparent;color:#333;font-size:22px;cursor:pointer">✕</button>
    <div id="adminLoginArea">
      <h3>ಆಡ್ಮಿನ್ ಲಾಗಿನ್</h3>
      <label>ಪಾಸ್‌ವರ್ಡ್</label>
      <input type="password" id="adminPass" placeholder="Password">
      <div style="margin-top:8px"><button id="adminLoginBtn" class="btn">ಲಾಗಿನ್</button></div>
      <div id="adminLoginMsg" style="color:red;display:none;margin-top:8px">ತಪ್ಪಾದ ಪಾಸ್‌ವರ್ಡ್</div>
    </div>

    <div id="adminPanelArea" style="display:none;margin-top:12px">
      <h3>ಆಡ್ಮಿನ್ ಪ್ಯಾನೆಲ್</h3>

      <section style="margin-top:8px">
        <h4>ವಿದ್ಯಾರ್ಥಿಗಳು (Students)</h4>
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <input id="stuName" placeholder="ಹೆಸರು">
          <input id="stuRole" placeholder="ಸಣ್ಣ ವಿವರಣೆ">
          <input type="file" id="stuPhoto">
          <button id="addStuBtn" class="btn">ಸೇರಿಸಿ</button>
        </div>
        <div id="adminStudentsList" style="margin-top:10px"></div>
      </section>

      <hr>

      <section>
        <h4>ಭವಿಷ್ಯದ ಕಾರ್ಯಕ್ರಮಗಳು (Events)</h4>
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <input id="evTitle" placeholder="ಶೀರ್ಷಿಕೆ">
          <input id="evDate" placeholder="ದಿನಾಂಕ (YYYY-MM-DD)">
          <button id="addEvBtn" class="btn">ಸೇರಿಸಿ</button>
        </div>
        <div id="adminEventsList" style="margin-top:10px"></div>
      </section>

      <hr>

      <section>
        <h4>ಗ್ಯಾಲರಿ ಅಪ್‌ಲೋಡ್ (Image / Video)</h4>
        <input type="file" id="mediaUpload" accept="image/*,video/*">
        <div style="margin-top:8px"><button id="uploadMediaBtn" class="btn">ಸೇರಿಸಿ</button></div>
        <div id="adminGalleryList" style="margin-top:10px"></div>
      </section>

      <hr>

      <section>
        <h4>ದೇಣಿಗೆ QR & ಮೊತ್ತ (Donation)</h4>
        <input type="file" id="qrUpload" accept="image/*">
        <input type="number" id="donationInput" placeholder="ಒಟ್ಟು ದಾನ ಮೊತ್ತ (₹)">
        <div style="margin-top:8px"><button id="updateDonationBtn" class="btn">ಅಪ್ಡೇಟ್</button></div>
      </section>

      <hr>
      <div style="display:flex;gap:8px;justify-content:flex-end;">
        <button id="adminLogoutBtn" class="btn" style="background:#444">ಲಾಗೌಟ್</button>
      </div>
    </div>
  </div>
</div>

<script>
function getStore(key, fallback){ try{ const v = localStorage.getItem(key); return v ? JSON.parse(v) : fallback; }catch(e){return fallback;} }
function setStore(key, val){ localStorage.setItem(key, JSON.stringify(val)); }

let students = getStore('yk_students', []);
let events = getStore('yk_events', []);
let gallery = getStore('yk_gallery', []);
let donationTotal = getStore('yk_donation_total', 0);
let donationQR = getStore('yk_donation_qr', null);

function renderStudents(){
  const grid = document.getElementById('studentsGrid'); grid.innerHTML='';
  if(!students.length){ grid.innerHTML = '<p class="small-muted">ಯಾವುದೇ ವಿದ್ಯಾರ್ಥಿಗಳು ಸೇರಿಸಲಿಲ್ಲ.</p>'; return; }
  students.forEach((s,i)=>{
    const div = document.createElement('div'); div.className='card';
    div.innerHTML = `<img src="${s.photo||'https://via.placeholder.com/400x240?text=Student'}" alt="${s.name}"><h3>${s.name}</h3><p class="small-muted">${s.desc||''}</p>`;
    grid.appendChild(div);
  });
}

function renderEvents(){
  const el = document.getElementById('eventsList'); el.innerHTML='';
  if(!events.length){ el.innerHTML = '<p class="small-muted">ಯಾವುದೇ ಕಾರ್ಯಕ್ರಮಗಳು ದಾಖಲಾಗಿಲ್ಲ.</p>'; return; }
  events.forEach(ev=>{
    const p = document.createElement('p'); p.innerHTML = `<strong>${ev.title}</strong> — <span class="small-muted">${ev.date||''}</span>`;
    el.appendChild(p);
  });
}

function renderGallery(){
  const grid = document.getElementById('galleryGrid'); grid.innerHTML='';
  if(!gallery.length){ grid.innerHTML = '<p class="small-muted">ಗ್ಯಾಲರಿ ಖಾಲಿ ಇದೆ.</p>'; return; }
  gallery.forEach((m,i)=>{
    const wrapper = document.createElement('div'); wrapper.className='card';
    if(m.type==='image'){
      wrapper.innerHTML = `<img src="${m.url}" alt="img${i}" onclick="openMedia(${i})"><div style="margin-top:8px"><button class="btn" onclick="removeMedia(${i})">ತೆಗೆದುಹಾಕಿ</button></div>`;
    } else {
      wrapper.innerHTML = `<video src="${m.url}" onclick="openMedia(${i})" style="height:160px;object-fit:cover"></video><div style="margin-top:8px"><button class="btn" onclick="removeMedia(${i})">ತೆಗೆದುಹಾಕಿ</button></div>`;
    }
    grid.appendChild(wrapper);
  });
}

function renderDonation(){ document.getElementById('donationTotal').textContent = donationTotal || 0; if(donationQR) document.getElementById('donationQR').src = donationQR; else document.getElementById('donationQR').src = 'https://via.placeholder.com/200x200?text=QR+Code'; }

function openMedia(index){ const modal = document.getElementById('mediaModal'); const inner = document.getElementById('mediaInner'); inner.innerHTML=''; const item = gallery[index]; if(!item) return; if(item.type==='image'){ const img = document.createElement('img'); img.src = item.url; inner.appendChild(img); } else { const v = document.createElement('video'); v.src = item.url; v.controls=true; v.autoplay=true; inner.appendChild(v); } modal.style.display='flex'; }

function removeMedia(i){ if(!confirm('ಚಿತ್ರ/ವೀಡಿಯೊ ತೆಗೆದುಹಾಕಲು ಖಚಿತವಾಗಿದ್ದೀರಾ?')) return; gallery.splice(i,1); setStore('yk_gallery', gallery); renderGallery(); loadAdminLists(); }

const openAdminBtn = document.getElementById('openAdmin'); const adminModal = document.getElementById('adminModal'); const adminClose = document.getElementById('adminClose'); const adminLoginBtn = document.getElementById('adminLoginBtn'); const adminPassInput = document.getElementById('adminPass'); const adminLoginMsg = document.getElementById('adminLoginMsg'); const adminLoginArea = document.getElementById('adminLoginArea'); const adminPanelArea = document.getElementById('adminPanelArea'); const adminLogoutBtn = document.getElementById('adminLogoutBtn');

openAdminBtn.addEventListener('click', ()=>{ adminModal.style.display='flex'; adminLoginMsg.style.display='none'; });
adminClose.addEventListener('click', ()=>{ adminModal.style.display='none'; });
document.getElementById('mediaClose').addEventListener('click', ()=>{ document.getElementById('mediaModal').style.display='none'; document.getElementById('mediaInner').innerHTML=''; });

adminLoginBtn.addEventListener('click', ()=>{ const pass = adminPassInput.value||''; if(pass==='admin123'){ adminLoginArea.style.display='none'; adminPanelArea.style.display='block'; adminPassInput.value=''; loadAdminLists(); } else { adminLoginMsg.style.display='block'; } });

document.getElementById('adminLogoutBtn').addEventListener('click', ()=>{ adminPanelArea.style.display='none'; adminLoginArea.style.display='block'; adminModal.style.display='none'; });

document.getElementById('addStuBtn').addEventListener('click', ()=>{ const name = document.getElementById('stuName').value.trim(); const desc = document.getElementById('stuRole').value.trim(); const file = document.getElementById('stuPhoto').files[0]; if(!name){ alert('ದಯವಿಟ್ಟು ವಿದ್ಯಾರ್ಥಿ ಹೆಸರು ನಮೂದಿಸಿ'); return; } if(file){ const reader=new FileReader(); reader.onload=()=>{ students.push({name, desc, photo: reader.result}); setStore('yk_students', students); renderStudents(); loadAdminLists(); document.getElementById('stuName').value=''; document.getElementById('stuRole').value=''; document.getElementById('stuPhoto').value=''; }; reader.readAsDataURL(file); } else { students.push({name, desc, photo: ''}); setStore('yk_students', students); renderStudents(); loadAdminLists(); document.getElementById('stuName').value=''; document.getElementById('stuRole').value=''; } });

document.getElementById('addEvBtn').addEventListener('click', ()=>{ const title=document.getElementById('evTitle').value.trim(); const date=document.getElementById('evDate').value.trim(); if(!title){ alert('ದಯವಿಟ್ಟು ಇವೆಂಟ್ ಶೀರ್ಷಿಕೆ ನಮೂದಿಸಿ'); return; } events.push({title,date}); setStore('yk_events', events); renderEvents(); loadAdminLists(); document.getElementById('evTitle').value=''; document.getElementById('evDate').value=''; });

document.getElementById('uploadMediaBtn').addEventListener('click', ()=>{ const f=document.getElementById('mediaUpload').files[0]; if(!f){ alert('ಫೈಲ್ ಆಯ್ಕೆಮಾಡಿ'); return; } const reader=new FileReader(); reader.onload=()=>{ const type = f.type.startsWith('video')?'video':'image'; gallery.push({type, url: reader.result}); setStore('yk_gallery', gallery); renderGallery(); loadAdminLists(); document.getElementById('mediaUpload').value=''; }; reader.readAsDataURL(f); });

document.getElementById('updateDonationBtn').addEventListener('click', ()=>{ const f=document.getElementById('qrUpload').files[0]; const amount=parseFloat(document.getElementById('donationInput').value||0); if(f){ const reader=new FileReader(); reader.onload=()=>{ donationQR=reader.result; setStore('yk_donation_qr', donationQR); if(!isNaN(amount)) donationTotal=amount; setStore('yk_donation_total', donationTotal); renderDonation(); loadAdminLists(); document.getElementById('qrUpload').value=''; document.getElementById('donationInput').value=''; alert('QR ಮತ್ತು ಮೊತ್ತ ಅಪ್‌ಡೇಟ್ ಆಗಿದೆ'); }; reader.readAsDataURL(f); } else { if(!isNaN(amount)){ donationTotal=amount; setStore('yk_donation_total', donationTotal); renderDonation(); loadAdminLists(); alert('ಮೊತ್ತ ಅಪ್‌ಡೇಟ್ ಆಯಿತು'); } else alert('ಫೈಲ್ ಅಥವಾ ಮಾನ್ಯ ಮೊತ್ತ ರಹಿತವಾಗಿದೆ'); } });

function loadAdminLists(){ const sdom=document.getElementById('adminStudentsList'); sdom.innerHTML=''; students.forEach((s,i)=>{ const d=document.createElement('div'); d.style.marginBottom='8px'; d.innerHTML=`<strong>${s.name}</strong> — ${s.desc||''} <button class="btn" onclick="removeStudent(${i})" style="margin-left:8px;background:#999">ತೆಗೆಯಿರಿ</button>`; sdom.appendChild(d); }); const edom=document.getElementById('adminEventsList'); edom.innerHTML=''; events.forEach((e,i)=>{ const d=document.createElement('div'); d.style.marginBottom='8px'; d.innerHTML=`<strong>${e.title}</strong> ${e.date? ' — '+e.date : ''} <button class="btn" onclick="removeEvent(${i})" style="margin-left:8px;background:#999">ತೆಗೆಯಿರಿ</button>`; edom.appendChild(d); }); const gdom=document.getElementById('adminGalleryList'); gdom.innerHTML=''; gallery.forEach((m,i)=>{ const d=document.createElement('div'); d.style.marginBottom='8px'; d.innerHTML=`${m.type.toUpperCase()} (${i}) <button class="btn" onclick="removeMedia(${i})" style="margin-left:8px;background:#999">ತೆಗೆದುಹಾಕಿ</button>`; gdom.appendChild(d); }); renderDonation(); }

document.getElementById('admissionForm').addEventListener('submit', function(e){ e.preventDefault(); const name=encodeURIComponent(document.getElementById('aName').value.trim()); const age=encodeURIComponent(document.getElementById('aAge').value.trim()); const phone=encodeURIComponent(document.getElementById('aPhone').value.trim()); const note=encodeURIComponent(document.getElementById('aNote').value.trim()); if(!name||!phone){ alert('ದಯವಿಟ್ಟು ಹೆಸರು ಮತ್ತು ಸಂಪರ್ಕ ಸಂಖ್ಯೆ ಭರ್ತಿ ಮಾಡಿ'); return; } const text=`ಯಕ್ಷಗಾನ ಪ್ರವೇಶ ಅರ್ಜಿ%0Aಹೆಸರು: ${name}%0Aವಯಸ್ಸು: ${age}%0Aಸಂಪರ್ಕ: ${phone}%0Aಸಂದೇಶ: ${note}`; window.open('https://wa.me/9148014768?text='+text, '_blank'); });

window.addEventListener('load', ()=>{ students = getStore('yk_students', students); events = getStore('yk_events', events); gallery = getStore('yk_gallery', gallery); donationTotal = getStore('yk_donation_total', donationTotal); donationQR = getStore('yk_donation_qr', donationQR); renderStudents(); renderEvents(); renderGallery(); renderDonation(); });

window.removeMedia = removeMedia; window.removeEvent = removeEvent; window.removeStudent = removeStudent; window.openMedia = openMedia;
</script>
</body>
</html>
